
################################################################################
#                                                                              #
#    Micro Series Z80 Assembler V1.80/MD2               08/Dec/02  22:47:55    #
#                                                                              #
#       Source   =   testramu.asm                                              #
#       List     =   testramu.lst                                              #
#       Object   =   testramu.r01                                              #
#       Options  =                                                             #
#                                                                              #
#                                               (c) Copyright IAR Systems 1985 #
################################################################################


    1                 ; PROGRAM DO testowania pamiêci RAM 1 kB z tym programem w zakresie od 030H do 3FFH
    2                 
    3  0000                   ORG 0H            ; DYREKTYWA UMIESZCZENIA POCZ¥TKU PROGRAMU OD ADRESU
    4                 
    5  0000 212F00            LD HL, 02FH       ; ADRES POCZ¥TKU TESTU -1
    6  0003 01FF03            LD BC, 3FFH       ; ADRES KOÑCA PAMIÊCI (TESTU)
    7                 
    8  0006 23        POCZ:   INC HL          ; ZWIÊKSZ ADRES KOMÓRKI DO TESTOWANIA
    9  0007 3EFF              LD A, 0FFH      ; STWORZENIE BAJTU DO TESTU JEDYNEK w KOMÓRCE o ADRESIE HL
   10  0009 77                LD (HL), A      ; ZAPIS BAJTU JEDYNEK DO PAMIÊCI POD ADRES W HL
   11  000A BE                CP (HL)         ; CZY W PAMIÊCI S¥ WPISANE JEDYNKI ?    
   12  000B C22100            JP NZ, KONIEC   ; JE¯ELI TAK TO KONIEC, JEŒLI NIE TO DALEJ TESTUJ
   13  000E AF                XOR A           ; ZEROWY BAJT DO AKUMULATORA DO TESTU ZER
   14  000F 77                LD (HL), A      ; ZAPIS BAJTU TESTOWEGO DO PAMIÊCI
   15  0010 BE                CP (HL)         ; CZY ZERA W PAMIÊCI ?
   16  0011 C22100            JP NZ, KONIEC   ; JE¯ELI NIE TO KONIEC, JEŒLI TAK TO DALEJ TESTUJ
   17  0014 7C                LD A, H         ; CZY REJESTRY H i B ZAWIERAJ¥ TO SAMO ? 
   18  0015 B8                CP B
   19  0016 C20600            JP NZ, POCZ     ; JE¯ELI NIE TO TEST DLA NASTÊPNEJ KOMÓRKI
   20  0019 7D                LD A, L         ; JE¯ELI TAK TO CZY REJESTRY L i C ZAWIERAJ¥ TO SAMO?
   21  001A B9                CP C            ; JE¯ELI ZGODNE REJESTRY PARAMI TO: HL = BC -> KONIEC TESTU
   22  001B C20600            JP NZ, POCZ     ; NIE KONIEC HL RÓ¯NY OD BC TO DALEJ NA POCZ¥TEK
   23  001E C32100            JP KONIEC       ; SKOCZ NA KONIEC PROGRAMU
   24                 
   25  0021           KONIEC:                 ; ETYKIETA KOÑCA PROGRAMU
   26  0021                   END                     ; DYREKTYWA DO ROZPOCZÊCIA PRACY PRZEZ ASEMBLER

    Errors:  None         ############
    Bytes:   33           # testramu #
    CRC:     5986         ############

