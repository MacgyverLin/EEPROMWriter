0001   0000                                 .include "8051.h"
0001+  0000             ;*************************************************************
0002+  0000             ;*  TASM 8051/8052/80154 SFR BIT/BYTE MNEMONIC EQUATES LIST  *
0003+  0000             ;*************************************************************
0004+  0000             
0005+  0000             P0      .equ    080H    ;Port 0
0006+  0000             SP      .equ    081H    ;Stack pointer
0007+  0000             DPL     .equ    082H
0008+  0000             DPH     .equ    083H
0009+  0000             PCON    .equ    087H
0010+  0000             TCON    .equ    088H
0011+  0000             TMOD    .equ    089H
0012+  0000             TL0     .equ    08AH
0013+  0000             TL1     .equ    08BH
0014+  0000             TH0     .equ    08CH
0015+  0000             TH1     .equ    08DH
0016+  0000             P1      .equ    090H    ;Port 1
0017+  0000             SCON    .equ    098H
0018+  0000             SBUF    .equ    099H
0019+  0000             P2      .equ    0A0H    ;Port 2
0020+  0000             IE      .equ    0A8H
0021+  0000             P3      .equ    0B0H    ;Port 3
0022+  0000             IP      .equ    0B8H
0023+  0000             T2CON   .equ    0C8H    ;8052, 80154 only
0024+  0000             RCAP2L  .equ    0CAH    ;8052, 80154 only
0025+  0000             RCAP2H  .equ    0CBH    ;8052, 80154 only
0026+  0000             TL2     .equ    0CCH    ;8052, 80154 only
0027+  0000             TH2     .equ    0CDH    ;8052, 80154 only
0028+  0000             PSW     .equ    0D0H
0029+  0000             ACC     .equ    0E0H    ;Accumulator
0030+  0000             B       .equ    0F0H    ;Secondary Accumulator
0031+  0000             IOCON   .equ    0F8H    ;80154 only
0032+  0000             
0033+  0000             ;PORT 0 BITS
0034+  0000             P0.0    .equ    080H    ;Port 0 bit 0
0035+  0000             P0.1    .equ    081H    ;Port 0 bit 1
0036+  0000             P0.2    .equ    082H    ;Port 0 bit 2
0037+  0000             P0.3    .equ    083H    ;Port 0 bit 3
0038+  0000             P0.4    .equ    084H    ;Port 0 bit 4
0039+  0000             P0.5    .equ    085H    ;Port 0 bit 5
0040+  0000             P0.6    .equ    086H    ;Port 0 bit 6
0041+  0000             P0.7    .equ    087H    ;Port 0 bit 7
0042+  0000             
0043+  0000             ;PORT 1 BITS
0044+  0000             P1.0    .equ    090H    ;Port 1 bit 0
0045+  0000             P1.1    .equ    091H    ;Port 1 bit 1
0046+  0000             P1.2    .equ    092H    ;Port 1 bit 2
0047+  0000             P1.3    .equ    093H    ;Port 1 bit 3
0048+  0000             P1.4    .equ    094H    ;Port 1 bit 4
0049+  0000             P1.5    .equ    095H    ;Port 1 bit 5
0050+  0000             P1.6    .equ    096H    ;Port 1 bit 6
0051+  0000             P1.7    .equ    097H    ;Port 1 bit 7
0052+  0000             
0053+  0000             ;PORT 2 BITS
0054+  0000             P2.0    .equ    0A0H    ;Port 2 bit 0
0055+  0000             P2.1    .equ    0A1H    ;Port 2 bit 1
0056+  0000             P2.2    .equ    0A2H    ;Port 2 bit 2
0057+  0000             P2.3    .equ    0A3H    ;Port 2 bit 3
0058+  0000             P2.4    .equ    0A4H    ;Port 2 bit 4
0059+  0000             P2.5    .equ    0A5H    ;Port 2 bit 5
0060+  0000             P2.6    .equ    0A6H    ;Port 2 bit 6
0061+  0000             P2.7    .equ    0A7H    ;Port 2 bit 7
0062+  0000             
0063+  0000             ;PORT 3 BITS
0064+  0000             P3.0    .equ    0B0H    ;Port 3 bit 0
0065+  0000             P3.1    .equ    0B1H    ;Port 3 bit 1
0066+  0000             P3.2    .equ    0B2H    ;Port 3 bit 2
0067+  0000             P3.3    .equ    0B3H    ;Port 3 bit 3
0068+  0000             P3.4    .equ    0B4H    ;Port 3 bit 4
0069+  0000             P3.5    .equ    0B5H    ;Port 3 bit 5
0070+  0000             P3.6    .equ    0B6H    ;Port 3 bit 6
0071+  0000             P3.7    .equ    0B7H    ;Port 3 bit 7
0072+  0000             
0073+  0000             ;ACCUMULATOR BITS
0074+  0000             ACC.0   .equ    0E0H    ;Acc bit 0
0075+  0000             ACC.1   .equ    0E1H    ;Acc bit 1
0076+  0000             ACC.2   .equ    0E2H    ;Acc bit 2
0077+  0000             ACC.3   .equ    0E3H    ;Acc bit 3
0078+  0000             ACC.4   .equ    0E4H    ;Acc bit 4
0079+  0000             ACC.5   .equ    0E5H    ;Acc bit 5
0080+  0000             ACC.6   .equ    0E6H    ;Acc bit 6
0081+  0000             ACC.7   .equ    0E7H    ;Acc bit 7
0082+  0000             
0083+  0000             ;B REGISTER BITS
0084+  0000             B.0     .equ    0F0H    ;Breg bit 0
0085+  0000             B.1     .equ    0F1H    ;Breg bit 1
0086+  0000             B.2     .equ    0F2H    ;Breg bit 2
0087+  0000             B.3     .equ    0F3H    ;Breg bit 3
0088+  0000             B.4     .equ    0F4H    ;Breg bit 4
0089+  0000             B.5     .equ    0F5H    ;Breg bit 5
0090+  0000             B.6     .equ    0F6H    ;Breg bit 6
0091+  0000             B.7     .equ    0F7H    ;Breg bit 7
0092+  0000             
0093+  0000             ;PSW REGISTER BITS
0094+  0000             P       .equ    0D0H    ;Parity flag
0095+  0000             F1      .equ    0D1H    ;User flag 1
0096+  0000             OV      .equ    0D2H    ;Overflow flag
0097+  0000             RS0     .equ    0D3H    ;Register bank select 1
0098+  0000             RS1     .equ    0D4H    ;Register bank select 0
0099+  0000             F0      .equ    0D5H    ;User flag 0
0100+  0000             AC      .equ    0D6H    ;Auxiliary carry flag
0101+  0000             CY      .equ    0D7H    ;Carry flag
0102+  0000             
0103+  0000             ;TCON REGISTER BITS
0104+  0000             IT0     .equ    088H    ;Intr 0 type control
0105+  0000             IE0     .equ    089H    ;Intr 0 edge flag
0106+  0000             IT1     .equ    08AH    ;Intr 1 type control
0107+  0000             IE1     .equ    08BH    ;Intr 1 edge flag
0108+  0000             TR0     .equ    08CH    ;Timer 0 run
0109+  0000             TF0     .equ    08DH    ;Timer 0 overflow
0110+  0000             TR1     .equ    08EH    ;Timer 1 run
0111+  0000             TF1     .equ    08FH    ;Timer 1 overflow
0112+  0000             
0113+  0000             ;SCON REGISTER BITS
0114+  0000             RI      .equ    098H    ;RX Intr flag
0115+  0000             TI      .equ    099H    ;TX Intr flag
0116+  0000             RB8     .equ    09AH    ;RX 9th bit
0117+  0000             TB8     .equ    09BH    ;TX 9th bit
0118+  0000             REN     .equ    09CH    ;Enable RX flag
0119+  0000             SM2     .equ    09DH    ;8/9 bit select flag
0120+  0000             SM1     .equ    09EH    ;Serial mode bit 1
0121+  0000             SM0     .equ    09FH    ;Serial mode bit 0
0122+  0000             
0123+  0000             ;IE REGISTER BITS
0124+  0000             EX0     .equ    0A8H    ;External intr 0
0125+  0000             ET0     .equ    0A9H    ;Timer 0 intr
0126+  0000             EX1     .equ    0AAH    ;External intr 1
0127+  0000             ET1     .equ    0ABH    ;Timer 1 intr
0128+  0000             ES      .equ    0ACH    ;Serial port intr
0129+  0000             ET2     .equ    0ADH    ;Timer 2 intr
0130+  0000             ;Reserved       0AEH    Reserved
0131+  0000             EA      .equ    0AFH    ;Global intr enable
0132+  0000             
0133+  0000             ;IP REGISTER BITS
0134+  0000             PX0     .equ    0B8H    ;Priority level-External intr 0
0135+  0000             PT0     .equ    0B9H    ;Priority level-Timer 0 intr
0136+  0000             PX1     .equ    0BAH    ;Priority level-External intr 1
0137+  0000             PT1     .equ    0BBH    ;Priority level-Timer 1 intr
0138+  0000             PS      .equ    0BCH    ;Priority level-Serial port intr
0139+  0000             PT2     .equ    0BDH    ;Priority level-Timer 2 intr
0140+  0000             ;Reserved       0BEH    Reserved
0141+  0000             PCT     .equ    0BFH    ;Global priority level
0142+  0000             
0143+  0000             ;IOCON REGISTER BITS  80154 ONLY
0144+  0000             ALF     .equ    0F8H    ;Power down port condition
0145+  0000             P1HZ    .equ    0F9H    ;Port 1 control
0146+  0000             P2HZ    .equ    0FAH    ;Port 2 control
0147+  0000             P3HZ    .equ    0FBH    ;Port 3 control
0148+  0000             IZC     .equ    0FCH    ;Pullup select
0149+  0000             SERR    .equ    0FDH    ;Serial reception error
0150+  0000             T32     .equ    0FEH    ;32 bit timer config
0151+  0000             WDT     .equ    0FFH    ;Watchdog config
0152+  0000             
0153+  0000             ;T2CON REGISTER BITS  8052/80154 ONLY
0154+  0000             CP/RL2  .equ    0C8H    ;Timer 2 capture/reload flag
0155+  0000             C/T2    .equ    0C9H    ;Timer 2 timer/counter select
0156+  0000             TR2     .equ    0CAH    ;Timer 2 start/stop
0157+  0000             EXEN2   .equ    0CBH    ;Timer 2 external enable
0158+  0000             TCLK    .equ    0CCH    ;TX clock flag
0159+  0000             RCLK    .equ    0CDH    ;RX clock flag
0160+  0000             EXF2    .equ    0CEH    ;Timer 2 external flag
0161+  0000             TF2     .equ    0CFH    ;Timer 2 overflow
0162+  0000             
0002   0000                                 .AVSYM
0003   0000             
0004   0000             RESET_VECTOR        .EQU            0000H
0005   0000             EXTERNAL0_VECTOR    .EQU            0003H
0006   0000             TIMER0_VECTOR       .EQU            000BH
0007   0000             EXTERNAL1_VECTOR    .EQU            0013H
0008   0000             TIMER1_VECTOR       .EQU            001BH
0009   0000             SERIAL_VECTOR       .EQU            0023H
0010   0000             
0011   0000                                 .ORG            RESET_VECTOR
0012   0000 01 40       					AJMP			START
0013   0002             
0014   0040             					.ORG            040h
0015   0040             START:
0016   0040             					
0017   0040             
0018   0040             BOOT_SEQUENCE:		; ACALL			CLR_MEMORY
0019   0040 31 11       					ACALL           COPYBIOS
0020   0042 31 21       					ACALL           CMPBIOS
0021   0044 B4 00 0D    					CJNE			A, #0, BOOT_FAILED
0022   0047             
0023   0047 31 35       BOOT_SUCCESS:		ACALL			EXIT_BOOT
0024   0049 75 90 01    BOOT_SUCCESS_1:		MOV				P1, #01h
0025   004C 11 98       					ACALL			TEST_LED
0026   004E 11 66       					ACALL			TEST_8255_0
0027   0050 11 7F       					ACALL			TEST_8255_1
0028   0052 01 49       					AJMP            BOOT_SUCCESS_1
0029   0054             
0030   0054 75 90 02    BOOT_FAILED:		MOV				P1, #02h
0031   0057 01 54                           AJMP            BOOT_FAILED
0032   0059             
0033   0059             ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
0034   0059             ; DELAY FUNCTION
0035   0059 7D 01       DELAY:				MOV				R5, #01; #50
0036   005B 7E 01       DELAY1:				MOV				R6, #01; #100
0037   005D 7F 01       DELAY2:				MOV				R7, #01; #100
0038   005F DF FE       DELAY3:				DJNZ			R7, DELAY3
0039   0061 DE FA       					DJNZ			R6, DELAY2
0040   0063 DD F6       					DJNZ			R5, DELAY1
0041   0065 22          					RET
0042   0066             
0043   0066             ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
0044   0066             ; TEST 8255
0045   0066 7C 0A       TEST_8255_0:		MOV				R4, #10
0046   0068 74 80       					MOV				A, #080h
0047   006A 11 BC       					ACALL           INIT_8255_0
0048   006C E4          					CLR				A
0049   006D             
0050   006D 11 C6       TEST_8255_0_a:		ACALL			SET_8255_0_PA
0051   006F 11 59       					ACALL			DELAY
0052   0071 04          					INC				A
0053   0072             
0054   0072 11 D0       					ACALL			SET_8255_0_PB
0055   0074 11 59       					ACALL			DELAY
0056   0076 04          					INC				A
0057   0077             
0058   0077 11 DA       					ACALL			SET_8255_0_PC
0059   0079 11 59       					ACALL			DELAY
0060   007B 04          					INC				A
0061   007C             
0062   007C DC EF       					DJNZ			R4, TEST_8255_0_a
0063   007E 22          					RET
0064   007F             
0065   007F 7C 0A       TEST_8255_1:		MOV				R4, #10
0066   0081 74 80       					MOV				A, #080h
0067   0083 11 C1       					ACALL           INIT_8255_1
0068   0085 E4          					CLR				A
0069   0086             
0070   0086 11 CB       TEST_8255_1_a:		ACALL			SET_8255_1_PA
0071   0088 11 59       					ACALL			DELAY
0072   008A 04          					INC				A
0073   008B             
0074   008B 11 D5       					ACALL			SET_8255_1_PB
0075   008D 11 59       					ACALL			DELAY
0076   008F 04          					INC				A
0077   0090             
0078   0090 11 DF       					ACALL			SET_8255_1_PC
0079   0092 11 59       					ACALL			DELAY
0080   0094 04          					INC				A
0081   0095             
0082   0095 DC EF       					DJNZ			R4, TEST_8255_1_a
0083   0097 22          					RET
0084   0098             
0085   0098             ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
0086   0098             ; TEST LED
0087   0098 75 90 01    TEST_LED:			MOV				P1, #01h
0088   009B 11 59       					ACALL			DELAY
0089   009D 75 90 02    					MOV				P1, #02h
0090   00A0 11 59       					ACALL			DELAY
0091   00A2 75 90 04    					MOV				P1, #04h
0092   00A5 11 59       					ACALL			DELAY
0093   00A7 75 90 08    					MOV				P1, #08h
0094   00AA 11 59       					ACALL			DELAY
0095   00AC 75 90 10    					MOV				P1, #10h
0096   00AF 11 59       					ACALL			DELAY
0097   00B1 75 90 20    					MOV				P1, #20h
0098   00B4 11 59       					ACALL			DELAY
0099   00B6 75 90 40    					MOV				P1, #40h
0100   00B9 11 59       					ACALL			DELAY
0101   00BB 22          					RET
0102   00BC             
0103   00BC             ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
0104   00BC             ; INIT 8255
0105   00BC             ; INPUT: A, MODE
0106   00BC             ; 76543210 
0107   00BC             ; |||||||+--------- PC0-3  ,  1:INPUT ,  0:OUTPUT
0108   00BC             ; ||||||+---------- PB     ,  1:INPUT ,  0:OUTPUT
0109   00BC             ; |||||+----------- PB MODE,  0:MODE 0,  1:MODE 1
0110   00BC             ; ||||+------------ PC4-7  ,  1:INPUT ,  0:OUTPUT
0111   00BC             ; |||+------------- PA     ,  1:INPUT ,  0:OUTPUT
0112   00BC             ; ||+-------------- PA MODE, 00:MODE 0, 01:MODE 1
0113   00BC             ; |+--------------- PA MODE, 10:MODE 2, 11:X
0114   00BC             ; +---------------- ALWAYS 1
0115   00BC 90 FF 03    INIT_8255_0:		MOV				DPTR, #0FF03H
0116   00BF 01 C4       					AJMP			INIT_8255_a			
0117   00C1 90 FF 13    INIT_8255_1:		MOV				DPTR, #0FF13H
0118   00C4 F0          INIT_8255_a:		MOVX			@DPTR, A
0119   00C5 22          					RET
0120   00C6             
0121   00C6             ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
0122   00C6             ; INIT SET_8255_0_PA
0123   00C6             ; PARAMETER: A, DATA
0124   00C6             ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
0125   00C6             ; INIT SET_8255_1_PA
0126   00C6             ; PARAMETER: A, DATA
0127   00C6 90 FF 00    SET_8255_0_PA:		MOV				DPTR, #0FF00H
0128   00C9 01 CE       					AJMP			SET_8255_PA_a	
0129   00CB 90 FF 10    SET_8255_1_PA:		MOV				DPTR, #0FF10H
0130   00CE F0          SET_8255_PA_a:		MOVX			@DPTR, A
0131   00CF 22          					RET
0132   00D0             
0133   00D0             ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
0134   00D0             ; INIT SET_8255_0_PB
0135   00D0             ; PARAMETER: A, DATA
0136   00D0             ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
0137   00D0             ; INIT SET_8255_1_PB
0138   00D0             ; PARAMETER: A, DATA
0139   00D0 90 FF 01    SET_8255_0_PB:		MOV				DPTR, #0FF01H
0140   00D3 01 D8       					AJMP			SET_8255_PB_a	
0141   00D5 90 FF 11    SET_8255_1_PB:		MOV				DPTR, #0FF11H
0142   00D8 F0          SET_8255_PB_a:		MOVX			@DPTR, A
0143   00D9 22          					RET
0144   00DA             
0145   00DA             ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
0146   00DA             ; INIT SET_8255_0_PC
0147   00DA             ; PARAMETER: A, DATA
0148   00DA             ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
0149   00DA             ; INIT SET_8255_1_PC
0150   00DA             ; PARAMETER: A, DATA
0151   00DA 90 FF 02    SET_8255_0_PC:		MOV				DPTR, #0FF02H
0152   00DD 01 E2       					AJMP			SET_8255_PC_a	
0153   00DF 90 FF 12    SET_8255_1_PC:		MOV				DPTR, #0FF12H
0154   00E2 F0          SET_8255_PC_a:		MOVX			@DPTR, A
0155   00E3 22          					RET
0156   00E4             
0157   00E4             ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
0158   00E4             ; INIT GET_8255_0_PA
0159   00E4             ; RETURN: A, DATA
0160   00E4             ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
0161   00E4             ; INIT GET_8255_1_PA
0162   00E4             ; RETURN: A, DATA
0163   00E4 90 FF 00    GET_8255_0_PA:		MOV				DPTR, #0FF00H
0164   00E7 01 EC       					AJMP			GET_8255_PA_a	
0165   00E9 90 FF 10    GET_8255_1_PA:		MOV				DPTR, #0FF10H
0166   00EC E0          GET_8255_PA_a:		MOVX			A, @DPTR
0167   00ED 22          					RET
0168   00EE             
0169   00EE             ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
0170   00EE             ; INIT GET_8255_0_PB
0171   00EE             ; RETURN: A, DATA
0172   00EE             ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
0173   00EE             ; INIT GET_8255_1_PB
0174   00EE             ; RETURN: A, DATA
0175   00EE 90 FF 01    GET_8255_0_PB:		MOV				DPTR, #0FF01H
0176   00F1 01 F6       					AJMP			GET_8255_PB_a	
0177   00F3 90 FF 11    GET_8255_1_PB:		MOV				DPTR, #0FF11H
0178   00F6 E0          GET_8255_PB_a:		MOVX			A, @DPTR
0179   00F7 22          					RET
0180   00F8             
0181   00F8             ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
0182   00F8             ; INIT SET_8255_0_PC
0183   00F8             ; RETURN: A, DATA
0184   00F8             ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
0185   00F8             ; INIT SET_8255_1_PC
0186   00F8             ; RETURN: A, DATA
0187   00F8 90 FF 02    GET_8255_0_PC:		MOV				DPTR, #0FF02H
0188   00FB 21 00       					AJMP			GET_8255_PC_a	
0189   00FD 90 FF 12    GET_8255_1_PC:		MOV				DPTR, #0FF12H
0190   0100 E0          GET_8255_PC_a:		MOVX			A, @DPTR
0191   0101 22          					RET
0192   0102             
0193   0102             ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
0194   0102             ; CLEAR_MEMORTY FUNCTION
0195   0102 90 00 00    CLR_MEMORY:			MOV				DPTR, #0000h
0196   0105 7E 00       CLR_MEMORY_1:		MOV				R6, #000H
0197   0107 7F 00       CLR_MEMORY_2:		MOV				R7, #000H
0198   0109 E4          CLR_MEMORY_3:		CLR				A
0199   010A F0          					MOVX			@DPTR,A
0200   010B A3          					INC				DPTR
0201   010C DF FB       					DJNZ			R7, CLR_MEMORY_3
0202   010E DE F7       					DJNZ			R6, CLR_MEMORY_2
0203   0110 22          CLR_MEMORY_END:		RET
0204   0111             
0205   0111             ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
0206   0111             ; COPY_BIOS FUNCTION
0207   0111 90 00 00    COPYBIOS:			MOV				DPTR, #0000h
0208   0114 7E 80       COPYBIOS_1:			MOV				R6, #080H
0209   0116 7F 00       COPYBIOS_2:			MOV				R7, #000H
0210   0118 E4          COPYBIOS_3:			CLR				A
0211   0119 93          					MOVC			A, @A+DPTR
0212   011A F0          					MOVX			@DPTR,A
0213   011B A3          					INC				DPTR
0214   011C DF FA       					DJNZ			R7, COPYBIOS_3
0215   011E DE F6       					DJNZ			R6, COPYBIOS_2
0216   0120 22          COPYBIOS_END:		RET				
0217   0121             
0218   0121             ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
0219   0121             ; COMPARE_BIOS FUNCTION
0220   0121 90 00 00    CMPBIOS:			MOV				DPTR, #0000h
0221   0124 7E 80       CMPBIOS_1:			MOV				R6, #080H
0222   0126 7F 00       CMPBIOS_2:			MOV				R7, #000H
0223   0128 E4          CMPBIOS_3:			CLR				A
0224   0129 93          					MOVC			A, @A+DPTR
0225   012A F8          					MOV				R0, A
0226   012B E0          					MOVX			A, @DPTR
0227   012C 98          					SUBB			A, R0
0228   012D 70 05       					JNZ				CMPBIOS_END
0229   012F A3          					INC				DPTR
0230   0130 DF F6       					DJNZ			R7, CMPBIOS_3
0231   0132 DE F2       					DJNZ			R6, CMPBIOS_2
0232   0134 22          CMPBIOS_END:		RET	
0233   0135             
0234   0135             ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
0235   0135             ; EXIT_BOOT FUNCTION
0236   0135 90 FF 70    EXIT_BOOT:			MOV				DPTR, #0FF70h
0237   0138 F0          					MOVX			@DPTR, A
0238   0139 22          					RET
0239   013A             
0240   013A             ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
0241   013A             ; ENTER_ISP FUNCTION
0242   013A 90 FF 71    ENTER_ISP:			MOV				DPTR, #0FF71h
0243   013D F0          					MOVX			@DPTR, A
0244   013E 22          					RET		
0245   013F             
0246   013F             ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
0247   013F             ; WARM_BOOT FUNCTION
0248   013F 90 FF 72    WARM_BOOT:			MOV				DPTR, #0FF72h
0249   0142 F0          					MOVX			@DPTR, A
0250   0143 22          					RET
0251   0144             
0252   0144                                 .END
ADDR  00 01 02 03 04 05 06 07 08 09 0A 0B 0C 0D 0E 0F
-----------------------------------------------------
0000  01 40 00 00 00 00 00 00 00 00 00 00 00 00 00 00
0010  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
0020  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
0030  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
0040  31 11 31 21 B4 00 0D 31 35 75 90 01 11 98 11 66
0050  11 7F 01 49 75 90 02 01 54 7D 01 7E 01 7F 01 DF
0060  FE DE FA DD F6 22 7C 0A 74 80 11 BC E4 11 C6 11
0070  59 04 11 D0 11 59 04 11 DA 11 59 04 DC EF 22 7C
0080  0A 74 80 11 C1 E4 11 CB 11 59 04 11 D5 11 59 04
0090  11 DF 11 59 04 DC EF 22 75 90 01 11 59 75 90 02
00A0  11 59 75 90 04 11 59 75 90 08 11 59 75 90 10 11
00B0  59 75 90 20 11 59 75 90 40 11 59 22 90 FF 03 01
00C0  C4 90 FF 13 F0 22 90 FF 00 01 CE 90 FF 10 F0 22
00D0  90 FF 01 01 D8 90 FF 11 F0 22 90 FF 02 01 E2 90
00E0  FF 12 F0 22 90 FF 00 01 EC 90 FF 10 E0 22 90 FF
00F0  01 01 F6 90 FF 11 E0 22 90 FF 02 21 00 90 FF 12
0100  E0 22 90 00 00 7E 00 7F 00 E4 F0 A3 DF FB DE F7
0110  22 90 00 00 7E 80 7F 00 E4 93 F0 A3 DF FA DE F6
0120  22 90 00 00 7E 80 7F 00 E4 93 F8 E0 98 70 05 A3
0130  DF F6 DE F2 22 90 FF 70 F0 22 90 FF 71 F0 22 90
0140  FF 72 F0 22 00 00 00 00 00 00 00 00 00 00 00 00


tasm: Number of errors = 0
