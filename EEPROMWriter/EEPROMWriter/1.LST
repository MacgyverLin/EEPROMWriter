0001   0000                                 .include "8051.h"
0001+  0000             ;*************************************************************
0002+  0000             ;*  TASM 8051/8052/80154 SFR BIT/BYTE MNEMONIC EQUATES LIST  *
0003+  0000             ;*************************************************************
0004+  0000             
0005+  0000             P0      .equ    080H    ;Port 0
0006+  0000             SP      .equ    081H    ;Stack pointer
0007+  0000             DPL     .equ    082H
0008+  0000             DPH     .equ    083H
0009+  0000             PCON    .equ    087H
0010+  0000             TCON    .equ    088H
0011+  0000             TMOD    .equ    089H
0012+  0000             TL0     .equ    08AH
0013+  0000             TL1     .equ    08BH
0014+  0000             TH0     .equ    08CH
0015+  0000             TH1     .equ    08DH
0016+  0000             P1      .equ    090H    ;Port 1
0017+  0000             SCON    .equ    098H
0018+  0000             SBUF    .equ    099H
0019+  0000             P2      .equ    0A0H    ;Port 2
0020+  0000             IE      .equ    0A8H
0021+  0000             P3      .equ    0B0H    ;Port 3
0022+  0000             IP      .equ    0B8H
0023+  0000             T2CON   .equ    0C8H    ;8052, 80154 only
0024+  0000             RCAP2L  .equ    0CAH    ;8052, 80154 only
0025+  0000             RCAP2H  .equ    0CBH    ;8052, 80154 only
0026+  0000             TL2     .equ    0CCH    ;8052, 80154 only
0027+  0000             TH2     .equ    0CDH    ;8052, 80154 only
0028+  0000             PSW     .equ    0D0H
0029+  0000             ACC     .equ    0E0H    ;Accumulator
0030+  0000             B       .equ    0F0H    ;Secondary Accumulator
0031+  0000             IOCON   .equ    0F8H    ;80154 only
0032+  0000             
0033+  0000             ;PORT 0 BITS
0034+  0000             P0.0    .equ    080H    ;Port 0 bit 0
0035+  0000             P0.1    .equ    081H    ;Port 0 bit 1
0036+  0000             P0.2    .equ    082H    ;Port 0 bit 2
0037+  0000             P0.3    .equ    083H    ;Port 0 bit 3
0038+  0000             P0.4    .equ    084H    ;Port 0 bit 4
0039+  0000             P0.5    .equ    085H    ;Port 0 bit 5
0040+  0000             P0.6    .equ    086H    ;Port 0 bit 6
0041+  0000             P0.7    .equ    087H    ;Port 0 bit 7
0042+  0000             
0043+  0000             ;PORT 1 BITS
0044+  0000             P1.0    .equ    090H    ;Port 1 bit 0
0045+  0000             P1.1    .equ    091H    ;Port 1 bit 1
0046+  0000             P1.2    .equ    092H    ;Port 1 bit 2
0047+  0000             P1.3    .equ    093H    ;Port 1 bit 3
0048+  0000             P1.4    .equ    094H    ;Port 1 bit 4
0049+  0000             P1.5    .equ    095H    ;Port 1 bit 5
0050+  0000             P1.6    .equ    096H    ;Port 1 bit 6
0051+  0000             P1.7    .equ    097H    ;Port 1 bit 7
0052+  0000             
0053+  0000             ;PORT 2 BITS
0054+  0000             P2.0    .equ    0A0H    ;Port 2 bit 0
0055+  0000             P2.1    .equ    0A1H    ;Port 2 bit 1
0056+  0000             P2.2    .equ    0A2H    ;Port 2 bit 2
0057+  0000             P2.3    .equ    0A3H    ;Port 2 bit 3
0058+  0000             P2.4    .equ    0A4H    ;Port 2 bit 4
0059+  0000             P2.5    .equ    0A5H    ;Port 2 bit 5
0060+  0000             P2.6    .equ    0A6H    ;Port 2 bit 6
0061+  0000             P2.7    .equ    0A7H    ;Port 2 bit 7
0062+  0000             
0063+  0000             ;PORT 3 BITS
0064+  0000             P3.0    .equ    0B0H    ;Port 3 bit 0
0065+  0000             P3.1    .equ    0B1H    ;Port 3 bit 1
0066+  0000             P3.2    .equ    0B2H    ;Port 3 bit 2
0067+  0000             P3.3    .equ    0B3H    ;Port 3 bit 3
0068+  0000             P3.4    .equ    0B4H    ;Port 3 bit 4
0069+  0000             P3.5    .equ    0B5H    ;Port 3 bit 5
0070+  0000             P3.6    .equ    0B6H    ;Port 3 bit 6
0071+  0000             P3.7    .equ    0B7H    ;Port 3 bit 7
0072+  0000             
0073+  0000             ;ACCUMULATOR BITS
0074+  0000             ACC.0   .equ    0E0H    ;Acc bit 0
0075+  0000             ACC.1   .equ    0E1H    ;Acc bit 1
0076+  0000             ACC.2   .equ    0E2H    ;Acc bit 2
0077+  0000             ACC.3   .equ    0E3H    ;Acc bit 3
0078+  0000             ACC.4   .equ    0E4H    ;Acc bit 4
0079+  0000             ACC.5   .equ    0E5H    ;Acc bit 5
0080+  0000             ACC.6   .equ    0E6H    ;Acc bit 6
0081+  0000             ACC.7   .equ    0E7H    ;Acc bit 7
0082+  0000             
0083+  0000             ;B REGISTER BITS
0084+  0000             B.0     .equ    0F0H    ;Breg bit 0
0085+  0000             B.1     .equ    0F1H    ;Breg bit 1
0086+  0000             B.2     .equ    0F2H    ;Breg bit 2
0087+  0000             B.3     .equ    0F3H    ;Breg bit 3
0088+  0000             B.4     .equ    0F4H    ;Breg bit 4
0089+  0000             B.5     .equ    0F5H    ;Breg bit 5
0090+  0000             B.6     .equ    0F6H    ;Breg bit 6
0091+  0000             B.7     .equ    0F7H    ;Breg bit 7
0092+  0000             
0093+  0000             ;PSW REGISTER BITS
0094+  0000             P       .equ    0D0H    ;Parity flag
0095+  0000             F1      .equ    0D1H    ;User flag 1
0096+  0000             OV      .equ    0D2H    ;Overflow flag
0097+  0000             RS0     .equ    0D3H    ;Register bank select 1
0098+  0000             RS1     .equ    0D4H    ;Register bank select 0
0099+  0000             F0      .equ    0D5H    ;User flag 0
0100+  0000             AC      .equ    0D6H    ;Auxiliary carry flag
0101+  0000             CY      .equ    0D7H    ;Carry flag
0102+  0000             
0103+  0000             ;TCON REGISTER BITS
0104+  0000             IT0     .equ    088H    ;Intr 0 type control
0105+  0000             IE0     .equ    089H    ;Intr 0 edge flag
0106+  0000             IT1     .equ    08AH    ;Intr 1 type control
0107+  0000             IE1     .equ    08BH    ;Intr 1 edge flag
0108+  0000             TR0     .equ    08CH    ;Timer 0 run
0109+  0000             TF0     .equ    08DH    ;Timer 0 overflow
0110+  0000             TR1     .equ    08EH    ;Timer 1 run
0111+  0000             TF1     .equ    08FH    ;Timer 1 overflow
0112+  0000             
0113+  0000             ;SCON REGISTER BITS
0114+  0000             RI      .equ    098H    ;RX Intr flag
0115+  0000             TI      .equ    099H    ;TX Intr flag
0116+  0000             RB8     .equ    09AH    ;RX 9th bit
0117+  0000             TB8     .equ    09BH    ;TX 9th bit
0118+  0000             REN     .equ    09CH    ;Enable RX flag
0119+  0000             SM2     .equ    09DH    ;8/9 bit select flag
0120+  0000             SM1     .equ    09EH    ;Serial mode bit 1
0121+  0000             SM0     .equ    09FH    ;Serial mode bit 0
0122+  0000             
0123+  0000             ;IE REGISTER BITS
0124+  0000             EX0     .equ    0A8H    ;External intr 0
0125+  0000             ET0     .equ    0A9H    ;Timer 0 intr
0126+  0000             EX1     .equ    0AAH    ;External intr 1
0127+  0000             ET1     .equ    0ABH    ;Timer 1 intr
0128+  0000             ES      .equ    0ACH    ;Serial port intr
0129+  0000             ET2     .equ    0ADH    ;Timer 2 intr
0130+  0000             ;Reserved       0AEH    Reserved
0131+  0000             EA      .equ    0AFH    ;Global intr enable
0132+  0000             
0133+  0000             ;IP REGISTER BITS
0134+  0000             PX0     .equ    0B8H    ;Priority level-External intr 0
0135+  0000             PT0     .equ    0B9H    ;Priority level-Timer 0 intr
0136+  0000             PX1     .equ    0BAH    ;Priority level-External intr 1
0137+  0000             PT1     .equ    0BBH    ;Priority level-Timer 1 intr
0138+  0000             PS      .equ    0BCH    ;Priority level-Serial port intr
0139+  0000             PT2     .equ    0BDH    ;Priority level-Timer 2 intr
0140+  0000             ;Reserved       0BEH    Reserved
0141+  0000             PCT     .equ    0BFH    ;Global priority level
0142+  0000             
0143+  0000             ;IOCON REGISTER BITS  80154 ONLY
0144+  0000             ALF     .equ    0F8H    ;Power down port condition
0145+  0000             P1HZ    .equ    0F9H    ;Port 1 control
0146+  0000             P2HZ    .equ    0FAH    ;Port 2 control
0147+  0000             P3HZ    .equ    0FBH    ;Port 3 control
0148+  0000             IZC     .equ    0FCH    ;Pullup select
0149+  0000             SERR    .equ    0FDH    ;Serial reception error
0150+  0000             T32     .equ    0FEH    ;32 bit timer config
0151+  0000             WDT     .equ    0FFH    ;Watchdog config
0152+  0000             
0153+  0000             ;T2CON REGISTER BITS  8052/80154 ONLY
0154+  0000             CP/RL2  .equ    0C8H    ;Timer 2 capture/reload flag
0155+  0000             C/T2    .equ    0C9H    ;Timer 2 timer/counter select
0156+  0000             TR2     .equ    0CAH    ;Timer 2 start/stop
0157+  0000             EXEN2   .equ    0CBH    ;Timer 2 external enable
0158+  0000             TCLK    .equ    0CCH    ;TX clock flag
0159+  0000             RCLK    .equ    0CDH    ;RX clock flag
0160+  0000             EXF2    .equ    0CEH    ;Timer 2 external flag
0161+  0000             TF2     .equ    0CFH    ;Timer 2 overflow
0162+  0000             
0002   0000                                 .AVSYM
0003   0000             
0004   0000             RESET_VECTOR        .EQU            0000H
0005   0000             EXTERNAL0_VECTOR    .EQU            0003H
0006   0000             TIMER0_VECTOR       .EQU            000BH
0007   0000             EXTERNAL1_VECTOR    .EQU            0013H
0008   0000             TIMER1_VECTOR       .EQU            001BH
0009   0000             SERIAL_VECTOR       .EQU            0023H
0010   0000             
0011   0000                                 .ORG            RESET_VECTOR
0012   0000 01 40       					AJMP			START
0013   0002             
0014   0040             					.ORG            040h
0015   0040             START:
0016   0040             					
0017   0040             
0018   0040             BOOT_SEQUENCE:		; ACALL			TEST_LED
0019   0040             					; ACALL			TEST_8255_0
0020   0040             					; ACALL			TEST_8255_1
0021   0040 11 FE       					ACALL			CLR_MEMORY
0022   0042 31 0D       					ACALL           COPYBIOS
0023   0044 31 1D       					ACALL           CMPBIOS
0024   0046 B4 00 07    					CJNE			A, #0, BOOT_FAILED
0025   0049             
0026   0049 31 31       BOOT_SUCCESS:		ACALL			EXIT_BOOT
0027   004B 75 90 01    BOOT_SUCCESS_1:		MOV				P1, #01h
0028   004E 01 4B       					AJMP            BOOT_SUCCESS_1
0029   0050             
0030   0050 75 90 02    BOOT_FAILED:		MOV				P1, #02h
0031   0053 01 50                           AJMP            BOOT_FAILED
0032   0055             
0033   0055             ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
0034   0055             ; DELAY FUNCTION
0035   0055 7D 01       DELAY:				MOV				R5, #01; #50
0036   0057 7E 01       DELAY1:				MOV				R6, #01; #100
0037   0059 7F 01       DELAY2:				MOV				R7, #01; #100
0038   005B DF FE       DELAY3:				DJNZ			R7, DELAY3
0039   005D DE FA       					DJNZ			R6, DELAY2
0040   005F DD F6       					DJNZ			R5, DELAY1
0041   0061 22          					RET
0042   0062             
0043   0062             ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
0044   0062             ; TEST 8255
0045   0062 7C 0A       TEST_8255_0:		MOV				R4, #10
0046   0064 74 80       					MOV				A, #080h
0047   0066 11 B8       					ACALL           INIT_8255_0
0048   0068 E4          					CLR				A
0049   0069             
0050   0069 11 C2       TEST_8255_0_a:		ACALL			SET_8255_0_PA
0051   006B 11 55       					ACALL			DELAY
0052   006D 04          					INC				A
0053   006E             
0054   006E 11 CC       					ACALL			SET_8255_0_PB
0055   0070 11 55       					ACALL			DELAY
0056   0072 04          					INC				A
0057   0073             
0058   0073 11 D6       					ACALL			SET_8255_0_PC
0059   0075 11 55       					ACALL			DELAY
0060   0077 04          					INC				A
0061   0078             
0062   0078 DC EF       					DJNZ			R4, TEST_8255_0_a
0063   007A 22          					RET
0064   007B             
0065   007B 7C 0A       TEST_8255_1:		MOV				R4, #10
0066   007D 74 80       					MOV				A, #080h
0067   007F 11 BD       					ACALL           INIT_8255_1
0068   0081 E4          					CLR				A
0069   0082             
0070   0082 11 C7       TEST_8255_1_a:		ACALL			SET_8255_1_PA
0071   0084 11 55       					ACALL			DELAY
0072   0086 04          					INC				A
0073   0087             
0074   0087 11 D1       					ACALL			SET_8255_1_PB
0075   0089 11 55       					ACALL			DELAY
0076   008B 04          					INC				A
0077   008C             
0078   008C 11 DB       					ACALL			SET_8255_1_PC
0079   008E 11 55       					ACALL			DELAY
0080   0090 04          					INC				A
0081   0091             
0082   0091 DC EF       					DJNZ			R4, TEST_8255_1_a
0083   0093 22          					RET
0084   0094             
0085   0094             ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
0086   0094             ; TEST LED
0087   0094 75 90 01    TEST_LED:			MOV				P1, #01h
0088   0097 11 55       					ACALL			DELAY
0089   0099 75 90 02    					MOV				P1, #02h
0090   009C 11 55       					ACALL			DELAY
0091   009E 75 90 04    					MOV				P1, #04h
0092   00A1 11 55       					ACALL			DELAY
0093   00A3 75 90 08    					MOV				P1, #08h
0094   00A6 11 55       					ACALL			DELAY
0095   00A8 75 90 10    					MOV				P1, #10h
0096   00AB 11 55       					ACALL			DELAY
0097   00AD 75 90 20    					MOV				P1, #20h
0098   00B0 11 55       					ACALL			DELAY
0099   00B2 75 90 40    					MOV				P1, #40h
0100   00B5 11 55       					ACALL			DELAY
0101   00B7 22          					RET
0102   00B8             
0103   00B8             ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
0104   00B8             ; INIT 8255
0105   00B8             ; INPUT: A, MODE
0106   00B8             ; 76543210 
0107   00B8             ; |||||||+--------- PC0-3  ,  1:INPUT ,  0:OUTPUT
0108   00B8             ; ||||||+---------- PB     ,  1:INPUT ,  0:OUTPUT
0109   00B8             ; |||||+----------- PB MODE,  0:MODE 0,  1:MODE 1
0110   00B8             ; ||||+------------ PC4-7  ,  1:INPUT ,  0:OUTPUT
0111   00B8             ; |||+------------- PA     ,  1:INPUT ,  0:OUTPUT
0112   00B8             ; ||+-------------- PA MODE, 00:MODE 0, 01:MODE 1
0113   00B8             ; |+--------------- PA MODE, 10:MODE 2, 11:X
0114   00B8             ; +---------------- ALWAYS 1
0115   00B8 90 FF 03    INIT_8255_0:		MOV				DPTR, #0FF03H
0116   00BB 01 C0       					AJMP			INIT_8255_a			
0117   00BD 90 FF 13    INIT_8255_1:		MOV				DPTR, #0FF13H
0118   00C0 F0          INIT_8255_a:		MOVX			@DPTR, A
0119   00C1 22          					RET
0120   00C2             
0121   00C2             ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
0122   00C2             ; INIT SET_8255_0_PA
0123   00C2             ; PARAMETER: A, DATA
0124   00C2             ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
0125   00C2             ; INIT SET_8255_1_PA
0126   00C2             ; PARAMETER: A, DATA
0127   00C2 90 FF 00    SET_8255_0_PA:		MOV				DPTR, #0FF00H
0128   00C5 01 CA       					AJMP			SET_8255_PA_a	
0129   00C7 90 FF 10    SET_8255_1_PA:		MOV				DPTR, #0FF10H
0130   00CA F0          SET_8255_PA_a:		MOVX			@DPTR, A
0131   00CB 22          					RET
0132   00CC             
0133   00CC             ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
0134   00CC             ; INIT SET_8255_0_PB
0135   00CC             ; PARAMETER: A, DATA
0136   00CC             ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
0137   00CC             ; INIT SET_8255_1_PB
0138   00CC             ; PARAMETER: A, DATA
0139   00CC 90 FF 01    SET_8255_0_PB:		MOV				DPTR, #0FF01H
0140   00CF 01 D4       					AJMP			SET_8255_PB_a	
0141   00D1 90 FF 11    SET_8255_1_PB:		MOV				DPTR, #0FF11H
0142   00D4 F0          SET_8255_PB_a:		MOVX			@DPTR, A
0143   00D5 22          					RET
0144   00D6             
0145   00D6             ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
0146   00D6             ; INIT SET_8255_0_PC
0147   00D6             ; PARAMETER: A, DATA
0148   00D6             ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
0149   00D6             ; INIT SET_8255_1_PC
0150   00D6             ; PARAMETER: A, DATA
0151   00D6 90 FF 02    SET_8255_0_PC:		MOV				DPTR, #0FF02H
0152   00D9 01 DE       					AJMP			SET_8255_PC_a	
0153   00DB 90 FF 12    SET_8255_1_PC:		MOV				DPTR, #0FF12H
0154   00DE F0          SET_8255_PC_a:		MOVX			@DPTR, A
0155   00DF 22          					RET
0156   00E0             
0157   00E0             ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
0158   00E0             ; INIT GET_8255_0_PA
0159   00E0             ; RETURN: A, DATA
0160   00E0             ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
0161   00E0             ; INIT GET_8255_1_PA
0162   00E0             ; RETURN: A, DATA
0163   00E0 90 FF 00    GET_8255_0_PA:		MOV				DPTR, #0FF00H
0164   00E3 01 E8       					AJMP			GET_8255_PA_a	
0165   00E5 90 FF 10    GET_8255_1_PA:		MOV				DPTR, #0FF10H
0166   00E8 E0          GET_8255_PA_a:		MOVX			A, @DPTR
0167   00E9 22          					RET
0168   00EA             
0169   00EA             ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
0170   00EA             ; INIT GET_8255_0_PB
0171   00EA             ; RETURN: A, DATA
0172   00EA             ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
0173   00EA             ; INIT GET_8255_1_PB
0174   00EA             ; RETURN: A, DATA
0175   00EA 90 FF 01    GET_8255_0_PB:		MOV				DPTR, #0FF01H
0176   00ED 01 F2       					AJMP			GET_8255_PB_a	
0177   00EF 90 FF 11    GET_8255_1_PB:		MOV				DPTR, #0FF11H
0178   00F2 E0          GET_8255_PB_a:		MOVX			A, @DPTR
0179   00F3 22          					RET
0180   00F4             
0181   00F4             ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
0182   00F4             ; INIT SET_8255_0_PC
0183   00F4             ; RETURN: A, DATA
0184   00F4             ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
0185   00F4             ; INIT SET_8255_1_PC
0186   00F4             ; RETURN: A, DATA
0187   00F4 90 FF 02    GET_8255_0_PC:		MOV				DPTR, #0FF02H
0188   00F7 01 FC       					AJMP			GET_8255_PC_a	
0189   00F9 90 FF 12    GET_8255_1_PC:		MOV				DPTR, #0FF12H
0190   00FC E0          GET_8255_PC_a:		MOVX			A, @DPTR
0191   00FD 22          					RET
0192   00FE             
0193   00FE             ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
0194   00FE             ; CLEAR_MEMORTY FUNCTION
0195   00FE 90 00 00    CLR_MEMORY:			MOV				DPTR, #0000h
0196   0101 7E 00       CLR_MEMORY_1:		MOV				R6, #000H
0197   0103 7F 00       CLR_MEMORY_2:		MOV				R7, #000H
0198   0105 E4          CLR_MEMORY_3:		CLR				A
0199   0106 F0          					MOVX			@DPTR,A
0200   0107 A3          					INC				DPTR
0201   0108 DF FB       					DJNZ			R7, CLR_MEMORY_3
0202   010A DE F7       					DJNZ			R6, CLR_MEMORY_2
0203   010C 22          CLR_MEMORY_END:		RET
0204   010D             
0205   010D             ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
0206   010D             ; COPY_BIOS FUNCTION
0207   010D 90 00 00    COPYBIOS:			MOV				DPTR, #0000h
0208   0110 7E 80       COPYBIOS_1:			MOV				R6, #080H
0209   0112 7F 00       COPYBIOS_2:			MOV				R7, #000H
0210   0114 E4          COPYBIOS_3:			CLR				A
0211   0115 93          					MOVC			A, @A+DPTR
0212   0116 F0          					MOVX			@DPTR,A
0213   0117 A3          					INC				DPTR
0214   0118 DF FA       					DJNZ			R7, COPYBIOS_3
0215   011A DE F6       					DJNZ			R6, COPYBIOS_2
0216   011C 22          COPYBIOS_END:		RET				
0217   011D             
0218   011D             ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
0219   011D             ; COMPARE_BIOS FUNCTION
0220   011D 90 00 00    CMPBIOS:			MOV				DPTR, #0000h
0221   0120 7E 80       CMPBIOS_1:			MOV				R6, #080H
0222   0122 7F 00       CMPBIOS_2:			MOV				R7, #000H
0223   0124 E4          CMPBIOS_3:			CLR				A
0224   0125 93          					MOVC			A, @A+DPTR
0225   0126 F8          					MOV				R0, A
0226   0127 E0          					MOVX			A, @DPTR
0227   0128 98          					SUBB			A, R0
0228   0129 70 05       					JNZ				CMPBIOS_END
0229   012B A3          					INC				DPTR
0230   012C DF F6       					DJNZ			R7, CMPBIOS_3
0231   012E DE F2       					DJNZ			R6, CMPBIOS_2
0232   0130 22          CMPBIOS_END:		RET	
0233   0131             
0234   0131             ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
0235   0131             ; EXIT_BOOT FUNCTION
0236   0131 90 FF 70    EXIT_BOOT:			MOV				DPTR, #0FF70h
0237   0134 F0          					MOVX			@DPTR, A
0238   0135 22          					RET
0239   0136             
0240   0136             ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
0241   0136             ; ENTER_ISP FUNCTION
0242   0136 90 FF 71    ENTER_ISP:			MOV				DPTR, #0FF71h
0243   0139 F0          					MOVX			@DPTR, A
0244   013A 22          					RET		
0245   013B             
0246   013B             ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
0247   013B             ; WARM_BOOT FUNCTION
0248   013B 90 FF 72    WARM_BOOT:			MOV				DPTR, #0FF72h
0249   013E F0          					MOVX			@DPTR, A
0250   013F 22          					RET
0251   0140             
0252   0140                                 .END
ADDR  00 01 02 03 04 05 06 07 08 09 0A 0B 0C 0D 0E 0F
-----------------------------------------------------
0000  01 40 00 00 00 00 00 00 00 00 00 00 00 00 00 00
0010  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
0020  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
0030  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
0040  11 FE 31 0D 31 1D B4 00 07 31 31 75 90 01 01 4B
0050  75 90 02 01 50 7D 01 7E 01 7F 01 DF FE DE FA DD
0060  F6 22 7C 0A 74 80 11 B8 E4 11 C2 11 55 04 11 CC
0070  11 55 04 11 D6 11 55 04 DC EF 22 7C 0A 74 80 11
0080  BD E4 11 C7 11 55 04 11 D1 11 55 04 11 DB 11 55
0090  04 DC EF 22 75 90 01 11 55 75 90 02 11 55 75 90
00A0  04 11 55 75 90 08 11 55 75 90 10 11 55 75 90 20
00B0  11 55 75 90 40 11 55 22 90 FF 03 01 C0 90 FF 13
00C0  F0 22 90 FF 00 01 CA 90 FF 10 F0 22 90 FF 01 01
00D0  D4 90 FF 11 F0 22 90 FF 02 01 DE 90 FF 12 F0 22
00E0  90 FF 00 01 E8 90 FF 10 E0 22 90 FF 01 01 F2 90
00F0  FF 11 E0 22 90 FF 02 01 FC 90 FF 12 E0 22 90 00
0100  00 7E 00 7F 00 E4 F0 A3 DF FB DE F7 22 90 00 00
0110  7E 80 7F 00 E4 93 F0 A3 DF FA DE F6 22 90 00 00
0120  7E 80 7F 00 E4 93 F8 E0 98 70 05 A3 DF F6 DE F2
0130  22 90 FF 70 F0 22 90 FF 71 F0 22 90 FF 72 F0 22


tasm: Number of errors = 0
